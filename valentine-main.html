<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triush Forever ğŸ’•</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Rammetto+One&family=Righteous&family=Allura&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --cherry-red:  #FF1744;
            --deep-red:    #A4161A;
            --mint:        #4ECDC4;
            --cream:       #FFF8E7;
            --chrome:      #C0C0C0;
            --neon-pink:   #FF006E;
            --retro-blue:  #06BEE1;
            --charcoal:    #2D2D2D;
            --soft-pink:   #FFB3BA;
        }

        html, body { height: 100%; overflow: hidden; }

        body {
            font-family: 'Righteous', cursive;
            background: linear-gradient(135deg, #fff5f7 0%, #ffb3ba 50%, #e63946 100%);
            animation: pageEnter 1.2s ease-out forwards;
        }

        @keyframes pageEnter {
            from { opacity: 0; transform: scale(1.03); }
            to   { opacity: 1; transform: scale(1); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           MAIN PAGE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #main-page {
            width: 100%;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        /* Checkered background */
        .diner-bg {
            min-height: 100vh;
            background:
                repeating-linear-gradient(0deg,  var(--cream) 0,var(--cream) 40px,var(--charcoal) 40px,var(--charcoal) 80px),
                repeating-linear-gradient(90deg, var(--cream) 0,var(--cream) 40px,var(--charcoal) 40px,var(--charcoal) 80px);
            background-size: 80px 80px;
            position: relative;
        }

        /* Floating hearts (same as coming soon page) */
        .heart-bg {
            position: fixed; inset: 0;
            pointer-events: none; z-index: 1; overflow: hidden;
        }

        .fheart {
            position: absolute; opacity: 0;
            animation: float-up 15s infinite;
        }

        @keyframes float-up {
            0%   { transform: translateY(100vh) rotate(0deg);   opacity: 0; }
            10%  { opacity: 0.25; }
            90%  { opacity: 0.25; }
            100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
        }

        /* Neon hearts decorative */
        .neon-left, .neon-right {
            position: fixed; font-size: 3.5rem; z-index: 2;
            pointer-events: none;
            animation: neon-flicker 3s infinite alternate;
        }

        .neon-left  { top: 40px; left: 40px;  color: var(--neon-pink); text-shadow: 0 0 10px var(--neon-pink), 0 0 30px var(--cherry-red); }
        .neon-right { top: 40px; right: 40px; color: var(--mint);      text-shadow: 0 0 10px var(--mint),     0 0 30px var(--retro-blue); }

        @keyframes neon-flicker { 0%,100%{opacity:1} 50%{opacity:0.75} }

        /* Rose corners */
        .rose-corner {
            position: fixed; font-size: 7rem; opacity: 0.12;
            z-index: 0; user-select: none; pointer-events: none;
        }

        .rose-tl { top: -1rem; left: -1rem; animation: sway 6s ease-in-out infinite; }
        .rose-br { bottom: -1rem; right: -1rem; animation: sway 6s ease-in-out infinite reverse; }

        @keyframes sway {
            0%,100% { transform: rotate(-15deg) translateY(0); }
            50%      { transform: rotate(-10deg) translateY(-8px); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LAYOUT: two-column
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .page-wrap {
            position: relative; z-index: 10;
            display: grid;
            grid-template-columns: 340px 1fr;
            gap: 0;
            min-height: 100vh;
        }

        /* â”€â”€ LEFT: MUSIC PLAYER COLUMN â”€â”€ */
        .music-col {
            background: linear-gradient(180deg, #1c0808 0%, #2d1010 60%, #1a0606 100%);
            border-right: 4px solid var(--cherry-red);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2.5rem 1.5rem;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 4px 0 30px rgba(0,0,0,0.5);
        }

        .music-col-title {
            font-family: 'Allura', cursive;
            font-size: 2rem;
            color: var(--soft-pink);
            text-align: center;
            margin-bottom: 1.5rem;
            text-shadow: 0 0 20px rgba(255,100,120,0.5);
        }

        /* DISC */
        .disc-wrapper {
            position: relative; height: 190px;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 1rem; width: 100%;
        }

        .disc-glow {
            position: absolute; width: 162px; height: 162px; border-radius: 50%;
            background: radial-gradient(circle, rgba(255,23,68,0.45) 0%, transparent 70%);
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow { 0%,100%{transform:scale(1);opacity:0.6} 50%{transform:scale(1.15);opacity:1} }

        .disc {
            width: 155px; height: 155px; border-radius: 50%;
            background: repeating-radial-gradient(circle at center,#111 0,#111 4px,#1e1e1e 4px,#1e1e1e 8px);
            box-shadow: 0 0 0 3px #333, 0 8px 28px rgba(0,0,0,0.8);
            position: relative;
            animation: spin 5s linear infinite;
            animation-play-state: paused;
        }

        .disc.playing { animation-play-state: running; }
        @keyframes spin { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }

        .disc-center {
            position: absolute; top:50%; left:50%; transform:translate(-50%,-50%);
            width: 68px; height: 68px; border-radius: 50%; overflow: hidden;
            border: 3px solid #555; box-shadow: 0 0 0 2px #222;
            background: #1a1a1a; display:flex; align-items:center; justify-content:center;
            font-size: 2.1rem;
        }

        .disc-hole {
            position: absolute; top:50%; left:50%; transform:translate(-50%,-50%);
            width: 10px; height: 10px; border-radius: 50%;
            background: #111; z-index: 10; box-shadow: 0 0 0 2px #333;
        }

        /* Song info */
        .p-song-info { text-align: center; margin-bottom: 0.8rem; padding: 0 0.5rem; }

        .p-song-title {
            font-family: 'Cormorant Garamond', serif; font-size: 1rem; font-weight: 600;
            color: #ffdde3; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }

        .p-song-artist {
            font-family: 'Allura', cursive; font-size: 1.1rem; color: var(--mint); margin-top: 2px;
        }

        /* Progress */
        .progress-wrap { width: 100%; padding: 0 0.5rem; margin-bottom: 0.5rem; }

        .progress-bar {
            width: 100%; height: 4px;
            background: rgba(255,255,255,0.1); border-radius: 2px; cursor: pointer; position: relative;
        }

        .progress-fill {
            height: 100%; background: linear-gradient(90deg, var(--cherry-red), var(--neon-pink));
            border-radius: 2px; width: 0%; transition: width 0.3s linear; position: relative;
        }

        .progress-fill::after {
            content: ''; position: absolute; right: -5px; top: -4px;
            width: 10px; height: 10px; background: #fff; border-radius: 50%;
            box-shadow: 0 0 6px rgba(255,23,68,0.8);
        }

        .time-row {
            display: flex; justify-content: space-between;
            font-size: 0.68rem; color: rgba(255,221,227,0.35); margin-top: 5px;
            font-family: 'Cormorant Garamond', serif;
        }

        /* Controls */
        .controls {
            display: flex; align-items: center; justify-content: center;
            gap: 20px; margin-bottom: 1.2rem;
        }

        .ctrl-btn {
            background: none; border: none; cursor: pointer;
            color: rgba(255,221,227,0.45); font-size: 1rem;
            padding: 5px; border-radius: 50%; transition: all 0.2s;
        }
        .ctrl-btn:hover { color: #ffdde3; transform: scale(1.15); }

        .play-pause {
            width: 52px; height: 52px; border-radius: 50%;
            background: linear-gradient(135deg, var(--cherry-red), var(--neon-pink));
            border: none; cursor: pointer; color: white; font-size: 1.3rem;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 5px 20px rgba(255,23,68,0.55); transition: all 0.2s;
        }
        .play-pause:hover { transform: scale(1.08); box-shadow: 0 8px 25px rgba(255,23,68,0.8); }

        /* Playlist */
        .playlist { width: 100%; }

        .playlist-label {
            font-size: 0.65rem; color: rgba(255,221,227,0.25);
            text-transform: uppercase; letter-spacing: 2px;
            padding: 0 6px; margin-bottom: 6px;
            font-family: 'Cormorant Garamond', serif;
        }

        .playlist-item {
            display: flex; align-items: center; gap: 10px;
            padding: 8px 8px; border-radius: 10px; cursor: pointer; transition: all 0.2s;
        }
        .playlist-item:hover  { background: rgba(255,255,255,0.06); }
        .playlist-item.active { background: rgba(255,23,68,0.18); }

        .track-icon {
            width: 34px; height: 34px; border-radius: 50%;
            background: linear-gradient(135deg,#1c0808,#2d1010);
            border: 1.5px solid rgba(255,23,68,0.3);
            display: flex; align-items: center; justify-content: center;
            font-size: 1rem; flex-shrink: 0;
        }

        .track-details { flex: 1; overflow: hidden; }

        .track-name {
            font-size: 0.8rem; color: #ffdde3;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
            font-family: 'Cormorant Garamond', serif;
        }

        .track-duration { font-size: 0.67rem; color: rgba(255,221,227,0.3); margin-top: 1px; }

        .track-playing-indicator { display: flex; gap: 2px; align-items: flex-end; height: 14px; }

        .p-bar { width: 3px; border-radius: 2px; background: var(--neon-pink); animation: eq 1s ease-in-out infinite; }
        .p-bar:nth-child(1) { height: 6px;  animation-delay: 0s; }
        .p-bar:nth-child(2) { height: 12px; animation-delay: 0.15s; }
        .p-bar:nth-child(3) { height: 8px;  animation-delay: 0.3s; }

        @keyframes eq { 0%,100%{transform:scaleY(0.4)} 50%{transform:scaleY(1)} }

        /* â”€â”€ RIGHT: CONTENT COLUMN â”€â”€ */
        .content-col {
            padding: 3rem 3rem 4rem;
            display: flex; flex-direction: column; gap: 3rem;
        }

        /* Header banner */
        .hero-banner {
            background: linear-gradient(135deg, var(--cherry-red) 0%, #C41230 100%);
            border-radius: 24px 24px 0 0;
            padding: 2rem 2rem 1.5rem;
            position: relative;
            border: 5px solid var(--chrome);
            box-shadow: 0 -8px 30px rgba(0,0,0,0.3), inset 0 2px 8px rgba(255,255,255,0.25);
        }

        .jukebox-lights {
            display: flex; justify-content: center; gap: 1rem; margin-bottom: 1rem;
        }

        .jlight {
            width: 18px; height: 18px; border-radius: 50%;
            animation: light-seq 2s infinite;
        }

        .jlight:nth-child(1) { background: var(--neon-pink); box-shadow: 0 0 18px var(--neon-pink); animation-delay: 0s; }
        .jlight:nth-child(2) { background: var(--retro-blue); box-shadow: 0 0 18px var(--retro-blue); animation-delay: 0.3s; }
        .jlight:nth-child(3) { background: var(--mint); box-shadow: 0 0 18px var(--mint); animation-delay: 0.6s; }
        .jlight:nth-child(4) { background: #FFD700; box-shadow: 0 0 18px #FFD700; animation-delay: 0.9s; }
        .jlight:nth-child(5) { background: var(--neon-pink); box-shadow: 0 0 18px var(--neon-pink); animation-delay: 1.2s; }

        @keyframes light-seq { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.4;transform:scale(0.75)} }

        .hero-title {
            font-family: 'Rammetto One', cursive;
            font-size: clamp(2.2rem, 5vw, 4.5rem);
            text-align: center;
            background: linear-gradient(45deg, #fff, #ffdde3, #fff);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            text-shadow: none;
            animation: slideDown 1s ease-out 1.8s backwards;
        }

        @keyframes slideDown { from{opacity:0;transform:translateY(-30px)} to{opacity:1;transform:translateY(0)} }

        .hero-sub {
            font-family: 'Allura', cursive;
            font-size: clamp(2rem, 4vw, 3rem);
            color: #ffdde3;
            text-align: center;
            margin-top: 0.5rem;
            text-shadow: 0 0 20px rgba(255,200,220,0.4);
            animation: fadeIn 1s ease-out 2.2s backwards;
        }

        @keyframes fadeIn { from{opacity:0} to{opacity:1} }

        /* Menu board card */
        .menu-board {
            background: var(--cream);
            border: 8px solid var(--chrome);
            border-top: none;
            box-shadow: 0 20px 50px rgba(0,0,0,0.35), inset 0 0 30px rgba(0,0,0,0.04);
            padding: 2.5rem;
            border-radius: 0 0 20px 20px;
        }

        .cherry-divider { text-align: center; font-size: 1.8rem; margin: 1rem 0; animation: bounce 2s ease-in-out infinite; }
        @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }

        .love-message {
            font-family: 'Pacifico', cursive;
            font-size: clamp(1.1rem, 2vw, 1.6rem);
            color: var(--charcoal); text-align: center; line-height: 2;
            animation: fadeIn 1s ease-out 2.4s backwards;
        }

        .love-message p { margin-bottom: 1.2rem; }

        .retro-sign {
            background: var(--mint); color: var(--charcoal);
            font-family: 'Rammetto One', cursive;
            font-size: clamp(1.3rem, 3vw, 2.2rem);
            text-align: center; padding: 0.8rem 1.5rem; margin: 1.5rem auto;
            border: 4px solid var(--charcoal); max-width: 500px;
            box-shadow: 5px 5px 0 var(--cherry-red), 9px 9px 0 var(--charcoal);
            transform: rotate(-1.5deg); animation: wiggle 3s ease-in-out infinite;
        }

        @keyframes wiggle { 0%,100%{transform:rotate(-1.5deg)} 50%{transform:rotate(1.5deg)} }

        /* Memories / reasons section */
        .section-title {
            font-family: 'Rammetto One', cursive;
            font-size: clamp(1.8rem, 3vw, 2.8rem);
            text-align: center;
            background: linear-gradient(45deg, var(--cherry-red), var(--neon-pink));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            margin-bottom: 1.5rem;
        }

        .reasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
        }

        .reason-card {
            background: var(--cream);
            border: 4px solid var(--chrome);
            border-radius: 16px;
            padding: 1.5rem 1.2rem;
            text-align: center;
            box-shadow: 4px 4px 0 var(--cherry-red), 7px 7px 0 rgba(0,0,0,0.15);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: default;
        }

        .reason-card:hover {
            transform: translateY(-5px) rotate(1deg);
            box-shadow: 6px 6px 0 var(--neon-pink), 10px 10px 0 rgba(0,0,0,0.15);
        }

        .reason-icon { font-size: 2.5rem; margin-bottom: 0.8rem; display: block; }

        .reason-title {
            font-family: 'Rammetto One', cursive;
            font-size: 1rem; color: var(--cherry-red); margin-bottom: 0.4rem;
        }

        .reason-text {
            font-family: 'Pacifico', cursive;
            font-size: 0.85rem; color: var(--charcoal); line-height: 1.6;
        }

        /* Quote footer */
        .quote-footer {
            text-align: center;
            padding: 2rem 1rem;
        }

        .quote-text {
            font-family: 'Allura', cursive;
            font-size: clamp(3rem, 6vw, 5rem);
            color: var(--cherry-red);
            text-shadow: 2px 2px 8px rgba(255,23,68,0.4);
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }

        .quote-hearts { font-size: 2rem; margin-top: 0.5rem; animation: bounce 2s ease-in-out infinite; }

        .quote-date {
            font-family: 'Righteous', cursive;
            font-size: clamp(1.2rem, 3vw, 2rem);
            color: var(--cherry-red);
            text-align: center;
            margin-top: 0.8rem;
            letter-spacing: 3px;
            text-shadow: 2px 2px 8px rgba(255,23,68,0.4);
            font-weight: 400;
        }

        /* â”€â”€ RESPONSIVE â”€â”€ */
        @media (max-width: 900px) {
            html, body { overflow: auto; }
            #main-page { height: auto; overflow: visible; }
            .page-wrap { grid-template-columns: 1fr; }

            .music-col {
                position: relative; height: auto;
                border-right: none; border-bottom: 4px solid var(--cherry-red);
                padding: 2rem 1.5rem;
            }

            .content-col { padding: 2rem 1.5rem 3rem; }
            .neon-left { left: 10px; font-size: 2rem; }
            .neon-right { right: 10px; font-size: 2rem; }
        }
    </style>
</head>
<body>



<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MAIN PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="main-page">
    <div class="diner-bg">

        <!-- Decorations -->
        <div class="heart-bg" id="heartBg"></div>
        <div class="rose-corner rose-tl">ğŸŒ¹</div>
        <div class="rose-corner rose-br">ğŸŒ¹</div>
        <div class="neon-left">ğŸ’–</div>
        <div class="neon-right">ğŸ’•</div>

        <div class="page-wrap">

            <!-- â”€â”€ LEFT: MUSIC PLAYER â”€â”€ -->
            <aside class="music-col">
                <div class="music-col-title">â™ª Our Songs â™ª</div>

                <div class="disc-wrapper">
                    <div class="disc-glow"></div>
                    <div class="disc" id="disc">
                        <div class="disc-center" id="discCenter">ğŸµ</div>
                        <div class="disc-hole"></div>
                    </div>
                </div>

                <div class="p-song-info">
                    <div class="p-song-title" id="songTitle">Wada Karo</div>
                </div>

                <div class="progress-wrap">
                    <div class="progress-bar" id="progressBar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="time-row">
                        <span id="currentTime">0:00</span>
                        <span id="totalTime">5:12</span>
                    </div>
                </div>

                <div class="controls">
                    <button class="ctrl-btn" id="prevBtn">&#9664;&#9664;</button>
                    <button class="play-pause" id="playBtn">&#9654;</button>
                    <button class="ctrl-btn" id="nextBtn">&#9654;&#9654;</button>
                </div>

                <div class="playlist">
                    <div id="playlistContainer"></div>
                </div>
            </aside>

            <!-- â”€â”€ RIGHT: CONTENT â”€â”€ -->
            <main class="content-col">

                <!-- Hero jukebox banner -->
                <div>
                    <div class="hero-banner">
                        <div class="jukebox-lights">
                            <div class="jlight"></div>
                            <div class="jlight"></div>
                            <div class="jlight"></div>
                            <div class="jlight"></div>
                            <div class="jlight"></div>
                        </div>
                        <div class="hero-title">Happy Valentine's Day, Triparna! ğŸ’•</div>

                    </div>

                    <div class="menu-board">
                        <div class="cherry-divider">ğŸ’ ğŸ’‹ ğŸ’ ğŸ’‹ ğŸ’</div>

                        <div class="love-message">
                            <p>Hey there, my Sweet Duckie! ğŸ¹ğŸ¦†</p>
                            <p>This is a small gesture of How much I value you in my life, more than you realise.</p>
                            <p>I never thought I can be so open and so close to someone. I might be inexpressive sometimes, but you are always on my mind.</p>
                            <p>Here's to a lifetime of more moments, more memories, and more of whatever this beautiful thing is between us.</p>
                        </div>

                        <div class="retro-sign">Some feelings are too big for words.ğŸ’‹</div>
                    </div>
                </div>

                <!-- Quote footer -->
                <div class="quote-footer">
                    <div class="quote-text">Triush Forever</div>
                    <div class="quote-date">10th October, 2025 till âˆ</div>
                    <div class="quote-hearts">ğŸ’ â¤ï¸ ğŸ’</div>
                </div>

            </main>
        </div>
    </div>
</div>

<script>
    /* â”€â”€ FLOATING HEARTS â”€â”€ */
    function createHeart() {
        const h = document.createElement('div');
        h.className = 'fheart';
        h.textContent = ['â¤ï¸','ğŸ’','ğŸ’•','ğŸ’–','ğŸ’'][Math.floor(Math.random()*5)];
        h.style.left = Math.random() * 100 + 'vw';
        h.style.animationDuration  = (Math.random() * 10 + 10) + 's';
        h.style.animationDelay    = Math.random() * 5 + 's';
        h.style.fontSize = (Math.random() * 18 + 12) + 'px';
        document.getElementById('heartBg').appendChild(h);
        setTimeout(() => h.remove(), 20000);
    }

    setInterval(createHeart, 900);
    for (let i = 0; i < 12; i++) setTimeout(createHeart, i * 250);

    /* â”€â”€ MUSIC PLAYER â”€â”€ */
    const songs = [
        { title: "Wada Karo",                   src: "songs/wada-karo.mp3",           icon: "ğŸŒ¹" },
        { title: "Dream Girl",                  src: "songs/dream-girl.mp3",           icon: "ğŸ’«" },
        { title: "Roop Tera Mastana",           src: "songs/roop-tera-mastana.mp3",    icon: "ğŸŒ¸" },
        { title: "Pal Pal Dil Ke Paas",         src: "songs/pal-pal-dil-ke-paas.mp3", icon: "â¤ï¸" },
        { title: "Pyar Manga Hai Tumhi Se",     src: "songs/pyar-manga-hai.mp3",       icon: "ğŸ¶" },
    ];

    let currentIndex = 0, isPlaying = false;

    const audio        = new Audio();
    const disc         = document.getElementById('disc');
    const discCenter   = document.getElementById('discCenter');
    const playBtn      = document.getElementById('playBtn');
    const songTitle    = document.getElementById('songTitle');
    const progressFill = document.getElementById('progressFill');
    const currentTimeEl= document.getElementById('currentTime');
    const totalTimeEl  = document.getElementById('totalTime');
    const playlistCont = document.getElementById('playlistContainer');

    function fmt(s) {
        if (isNaN(s)) return '0:00';
        return `${Math.floor(s/60)}:${Math.floor(s%60).toString().padStart(2,'0')}`;
    }

    function loadSong(index, autoplay) {
        const s = songs[index];
        audio.src = s.src;
        songTitle.textContent = s.title;
        discCenter.textContent = s.icon;
        progressFill.style.width = '0%';
        currentTimeEl.textContent = '0:00';
        totalTimeEl.textContent = '0:00';
        if (autoplay) {
            audio.play().catch(() => {});
            isPlaying = true;
            disc.classList.add('playing');
            playBtn.innerHTML = '&#9646;&#9646;';
        }
        buildPlaylist();
    }

    function buildPlaylist() {
        playlistCont.innerHTML = '';
        songs.forEach((song, i) => {
            const item = document.createElement('div');
            item.className = 'playlist-item' + (i === currentIndex ? ' active' : '');
            item.innerHTML = `
                <div class="track-icon">${song.icon}</div>
                <div class="track-details">
                    <div class="track-name">${song.title}</div>
                </div>
                ${i === currentIndex && isPlaying ? '<div class="track-playing-indicator"><div class="p-bar"></div><div class="p-bar"></div><div class="p-bar"></div></div>' : ''}
            `;
            item.addEventListener('click', () => {
                currentIndex = i;
                loadSong(currentIndex, true);
            });
            playlistCont.appendChild(item);
        });
    }

    function togglePlay() {
        if (audio.paused) {
            audio.play().catch(() => {});
            isPlaying = true;
            disc.classList.add('playing');
            playBtn.innerHTML = '&#9646;&#9646;';
        } else {
            audio.pause();
            isPlaying = false;
            disc.classList.remove('playing');
            playBtn.innerHTML = '&#9654;';
        }
        buildPlaylist();
    }

    function nextSong() {
        currentIndex = (currentIndex + 1) % songs.length;
        loadSong(currentIndex, isPlaying);
    }

    function prevSong() {
        if (audio.currentTime > 3) {
            audio.currentTime = 0;
        } else {
            currentIndex = (currentIndex - 1 + songs.length) % songs.length;
            loadSong(currentIndex, isPlaying);
        }
    }

    // Progress bar â€” scrub
    document.getElementById('progressBar').addEventListener('click', function(e) {
        if (!audio.duration) return;
        const pct = (e.clientX - this.getBoundingClientRect().left) / this.offsetWidth;
        audio.currentTime = pct * audio.duration;
    });

    // Audio events
    audio.addEventListener('timeupdate', () => {
        if (!audio.duration) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressFill.style.width = pct + '%';
        currentTimeEl.textContent = fmt(audio.currentTime);
    });

    audio.addEventListener('loadedmetadata', () => {
        totalTimeEl.textContent = fmt(audio.duration);
    });

    audio.addEventListener('ended', () => {
        nextSong();
    });

    playBtn.addEventListener('click', togglePlay);
    document.getElementById('nextBtn').addEventListener('click', nextSong);
    document.getElementById('prevBtn').addEventListener('click', prevSong);

    // Init
    loadSong(currentIndex, false);
</script>
</body>
</html>
